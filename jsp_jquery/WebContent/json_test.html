<!DOCTYPE html>
<html>
	<head>
		<meta charset="EUC-KR">
		<title>Insert title here</title>
		<script src = "http://code.jquery.com/jquery-latest.min.js"></script>
		
		<script>
			$(document).ready(function(){
			
				var result = document.getElementById("ajaxValue");
				
				$("#btn").click(function(){
					
					$.ajax({
						//요청할 url 을 의미한다.
						url : "./json.jsp",	
						
						//데이터 전송방식. GET 또는 POST
						type : "post",	
						
						//요청페이지의 캐시여부. true 또는 false
						cache : false,	
						
						//서버에서 받아올 데이터를 어떤 형태로 해석할것인지.
						//xml,json,html.script 중 선택.
						dataType : "json",	
						
						//서버로 데이터를 전송할때 사용한다. (key=value)형태
						/* data : "", */	
						
						//Ajax 통신에 성공했을 때 실행되는 이벤트.
													//data 에 url 로 받은 body 애들 끌고오는것.
						success : function(data){	
							
							var htmlCode = '';
								htmlCode += '<tr>'
								htmlCode += '<th>idx</th>'
								htmlCode += '<th>ID</th>'
								htmlCode += '<th>Name</th>'
								htmlCode += '<th>phone</th>'
								htmlCode += '<th>Delete</th>'
								htmlCode += '</tr>'
								console.log(result.innerHTML = htmlCode);
						},
						
						//Ajax 통신에 실패했을때 실행되는 이벤트.
						//request, status, error 로 에러 정보를 확인할 수 있다.
						error : function(request,status,error){
							console.log(request.responseText);
							console.log(error);
							
						}
					});
				});
			});
		</script>
	</head>
	<body>
		<input type = "button" id = "btn"  value = "click">
		<div id = "ajaxValue"></div>
	</body>
</html>
